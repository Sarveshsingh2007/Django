{% extends 'base.html' %}

{% block start %}

<div class="container mt-5">
<form class="mb-4">
  <div class="row">
    <div class="col-md-6">
      <input class="form-control" name="search" placeholder="search">
    </div>

    <div class="col-md-6">
      <button class="btn btn-success">search</button>
    </div>
  </div>
</form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">S.no</th>
        <th scope="col">Student ID</th>
        <th scope="col">Department</th>
        <th scope="col">Student Name</th>
        <th scope="col">Student Email</th>
        <th scope="col">Student Age</th>
      </tr>
    </thead>
    <tbody>
      {% for student in queryset %}
      <tr>
        <th scope="row">{{ forloop.counter }}</th>
        <td>
          <a href="{% url 'see_marks' student.student_id %}">{{student.student_id}}</a>
        </td>
        <td>{{ student.department.department }}</td>
        <td>{{ student.student_name }}</td>
        <td>{{ student.student_email }}</td>
        <td>{{ student.student_age }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
    
    <!-- Bootstrap Pagination -->
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">

        <!-- Previous -->
        <li class="page-item {% if not queryset.has_previous %}disabled{% endif %}">
          {% if queryset.has_previous %}
            <a class="page-link" href="?page={{ queryset.previous_page_number }}">Previous</a>
          {% else %}
            <span class="page-link">Previous</span>
          {% endif %}
        </li>

        <!-- Page Numbers -->
        {% for num in queryset.paginator.page_range %}
          {% if queryset.number == num %}
            <li class="page-item active">
              <span class="page-link">{{ num }}</span>
            </li>
          {% else %}
            <li class="page-item">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
          {% endif %}
        {% endfor %}

        <!-- Next -->
        <li class="page-item {% if not queryset.has_next %}disabled{% endif %}">
          {% if queryset.has_next %}
            <a class="page-link" href="?page={{ queryset.next_page_number }}">Next</a>
          {% else %}
            <span class="page-link">Next</span>
          {% endif %}
        </li>

      </ul>
    </nav> 
</div>

{% endblock %}
